<ion-view>

  <ion-nav-bar class="bar-dark">
    <ion-nav-back-button>
    </ion-nav-back-button>

    <ion-nav-title>
      Patients
    </ion-nav-title>

    <ion-nav-buttons side="left">
      <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
      </button>
    </ion-nav-buttons>

    <ion-nav-buttons side="right">
      <button class="button button-icon" ng-click="logout()" ng-show="loggedInUser">
        <i class="icon ion-android-exit"></i>
      </button>
    </ion-nav-buttons>
  </ion-nav-bar>

<ion-content>
  <ion-refresher on-refresh="ctrl.doRefresh()"></ion-refresher>
  <div class="list">
    <a class="item item-thumbnail-left" href="#" ng-repeat="patient in ctrl.patients | orderBy: ctrl.sortBy:ctrl.reverseSort">
      <img ng-src="{{patient.thumb}}">
      <h2>{{patient.name}}</h2>
      <p>
        <i class="icon ion-calendar"></i>
        {{patient.preAppDate}}
      </p>
      <p>
        <i class="icon ion-pin"></i>
        {{patient.nextAppDate}}
      </p>
      <p>
        <i class="icon ion-medkit"></i>
        {{patient.summary}}
      </p>
    </a>
  </div>
</ion-content>

<div class="tabs tabs-icon-top">
  <a class="tab-item">
    <i class="icon ion-search"></i>
    Search
  </a>
  <a class="tab-item"  ng-class="ctrl.sortBy === 'nextAppDate'? 'active' : ''">
    <i class="icon ion-clock" ng-click="ctrl.sortByField('nextAppDate')"></i>
    Sort by Appointment
  </a>
  <a class="tab-item" ng-class="ctrl.sortBy === 'name'? 'active' : ''">
    <i class="icon ion-arrow-down-c" ng-class="ctrl.reverseSort && ctrl.sortBy === 'name'? 'icon ion-arrow-up-c' : 'icon ion-arrow-down-c'" ng-click="ctrl.sortByField('name')"></i>
    Sort A-Z
  </a>
  <a class="tab-item" ui-sref="new">
    <i class="icon ion-person-add"></i>
    Add Patient
  </a>
</div>
</ion-view>
